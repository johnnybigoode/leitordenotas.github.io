<div class="row">
	<div class="col">
		<div class="row m-3 p-2 bg-light rounded mx-auto text-center" id="login" style="display: none;"
			[appSlideToggle]="!sessionService.isAuthenticated"
			(appSlideState)="loginSlideState = $event"
			*ngIf="!sessionService.isAuthenticated || loginSlideState != 'hidden'"
		>
			<div class="col">
				<div [class.d-none]="!loading" class="login-loading">
					<div class="spinner-border text-primary" role="status">
						<span class="sr-only">...</span>
					</div>
				</div>

				<h5 class="h3">Faça login</h5>
				
				<div [appSlideToggle]="!emailFormSent">
					<form class="form" [formGroup]="emailForm" (submit)="submitEmailForm()">
						<div class="form-group">
							<label for="email">Email</label>
							<input
								type="email"
								name="email"
								formControlName="email"
								[class.is-invalid]="!emailForm.get('email').valid && emailForm.get('email').touched"
								class="form-control form-control-lg"
								placeholder="examplo@email.com"
							/>
						</div>
						<div class="form-group">
							<button type="submit" class="btn btn-lg btn-block btn-primary">Entrar</button>
						</div>
					</form>
					<p>Enviaremos um código de acesso para o SEU E-MAIL.<br>Pode ser que leve até 5 minutos para o e-mail chegar.</p>
				</div>

				<div style="display: none;" [appSlideToggle]="emailFormSent">
					<form class="form" [formGroup]="tokenForm" (submit)="submitTokenForm()">
						<p>Informe no campo abaixo o código enviado em seu email.</p>
						<div class="form-group">
							<label for="token">Token</label>
							<input type="tel" name="token" formControlName="token" class="form-control form-control-lg" required="true" placeholder="000000" autocomplete="off">
						</div>
						<div class="form-group">
							<button type="submit" class="btn btn-lg btn-block btn-primary">Enviar</button>
						</div>
					</form>
					<p style="display:none;" class="display-1 text-success"><i class="fas fa-check-circle"></i></p>
				</div>
			</div>
		</div>
	</div>
</div>